<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.blog.mapper.ArchiveMapper">


    <select id="findGroupYears" resultType="java.lang.String">
        select date_format(b.update_time, '%Y') as year
        from blog b
        group by year
        order by year desc;
    </select>
    <select id="findByYear" resultType="com.blog.pojo.Blog">
        select *
        from blog b
        where date_format(b.update_time, '%Y') = #{year} and b.published=1;
    </select>
    <select id="count" resultType="java.lang.Long">
        select count(*)
        from blog where published=1;
    </select>
</mapper>
